{"version":3,"sources":["script.js"],"names":["weatherDisplayItem","document","querySelector","searchInput","searchButton","humidityValue","windSpeedValue","showError","message","classList","add","value","disabled","setTimeout","remove","displayWeather","data","weather","array","name","sys","country","main","temp","humidity","wind","speed","imgElement","h2Element","smallElement","className","src","icon","alt","description","onload","focus","innerHTML","textContent","async","request","cityName","url","response","fetch","json","cod","error","console","log","search","length","addEventListener"],"mappings":"AAAA,MAAMA,mBAAqBC,SAASC,cAAc,yBAC5CC,YAAcF,SAASC,cAAc,iCACrCE,aAAeH,SAASC,cAAc,kCACtCG,cAAgBJ,SAASC,cAAc,mBACvCI,eAAiBL,SAASC,cAAc,qBAE9C,SAASK,UAAUC,GACjBL,YAAYM,UAAUC,IAAI,SAC1BP,YAAYQ,MAAQH,EACpBL,YAAYS,UAAW,EAEvBC,WAAW,KACTV,YAAYM,UAAUK,OAAO,SAC7BX,YAAYQ,MAAQ,GACpBR,YAAYS,UAAW,GACtB,KAGL,SAASG,eAAeC,GACtB,MACEC,SAAUC,GAAMC,KAChBA,EACAC,KAAKC,QAAEA,GACPC,MAAMC,KAAEA,EAAIC,SAAEA,GACdC,MAAMC,MAAEA,IACNV,EAEEW,EAAa3B,mBAAmBE,cAAc,OAC9C0B,EAAY5B,mBAAmBE,cAAc,MAC7C2B,EAAe7B,mBAAmBE,cAAc,SAEtDyB,EAAWG,UAAY,UACvBF,EAAUE,UAAY,UACtBD,EAAaC,UAAY,UACzBzB,cAAcyB,UAAY,UAC1BxB,eAAewB,UAAY,UAE3BH,EAAWI,IAAM,qCAAqCb,EAAMc,cAC5DL,EAAWM,IAAM,GAAGf,EAAMgB,YAE1BP,EAAWQ,OAAS,WAClBR,EAAWS,QACXT,EAAWlB,UAAUC,IAAI,2BAEzBkB,EAAUS,UAAed,EAAH,iBACtBK,EAAUQ,QACVR,EAAUnB,UAAUC,IAAI,UAExBmB,EAAaS,YAAc,GAAGnB,MAASE,IACvCQ,EAAaO,QACbP,EAAapB,UAAUC,IAAI,UAE3BL,cAAciC,YAAiBd,EAAH,KAC5BnB,cAAc+B,QACd/B,cAAcI,UAAUC,IAAI,UAE5BJ,eAAegC,YAAiBZ,EAAH,OAC7BpB,eAAe8B,QACf9B,eAAeG,UAAUC,IAAI,WAIjC6B,eAAeC,QAAQC,GACrB,IACE,MACMC,EAAM,qDAAqDD,WADlD,kDAGTE,QAAiBC,MAAMF,GACvB1B,QAAa2B,EAASE,OAE5B,GAAiB,QAAb7B,EAAK8B,IAEP,YADAvC,UAAU,wBAIZQ,eAAeC,GACf,MAAO+B,GACPC,QAAQC,IAAIF,GACZxC,UAAU,sBAId,SAAS2C,SACP,GAAiC,IAA7B/C,YAAYQ,MAAMwC,OAEpB,YADA5C,UAAU,4BAIZiC,QADerC,YAAYQ,OAI7BP,aAAagD,iBAAiB,QAASF","file":"script.js","sourcesContent":["const weatherDisplayItem = document.querySelector(\".weather-display-item\");\r\nconst searchInput = document.querySelector(\".weather-search-input > input\");\r\nconst searchButton = document.querySelector(\".weather-search-input > button\");\r\nconst humidityValue = document.querySelector(\".humidity-value\");\r\nconst windSpeedValue = document.querySelector(\".wind-speed-value\");\r\n\r\nfunction showError(message) {\r\n  searchInput.classList.add(\"error\");\r\n  searchInput.value = message;\r\n  searchInput.disabled = true;\r\n\r\n  setTimeout(() => {\r\n    searchInput.classList.remove(\"error\");\r\n    searchInput.value = \"\";\r\n    searchInput.disabled = false;\r\n  }, 3000);\r\n}\r\n\r\nfunction displayWeather(data) {\r\n  const {\r\n    weather: [array],\r\n    name,\r\n    sys: { country },\r\n    main: { temp, humidity },\r\n    wind: { speed },\r\n  } = data;\r\n\r\n  const imgElement = weatherDisplayItem.querySelector(\"img\");\r\n  const h2Element = weatherDisplayItem.querySelector(\"h2\");\r\n  const smallElement = weatherDisplayItem.querySelector(\"small\");\r\n\r\n  imgElement.className = \"slideUp\";\r\n  h2Element.className = \"fadeOut\";\r\n  smallElement.className = \"fadeOut\";\r\n  humidityValue.className = \"fadeOut\";\r\n  windSpeedValue.className = \"fadeOut\";\r\n\r\n  imgElement.src = `https://openweathermap.org/img/wn/${array.icon}@2x.png`;\r\n  imgElement.alt = `${array.description}`;\r\n\r\n  imgElement.onload = function () {\r\n    imgElement.focus();\r\n    imgElement.classList.add(\"slideDownWithTransition\");\r\n\r\n    h2Element.innerHTML = `${temp} <sup>°C</sup>`;\r\n    h2Element.focus();\r\n    h2Element.classList.add(\"fadeIn\");\r\n\r\n    smallElement.textContent = `${name}, ${country}`;\r\n    smallElement.focus();\r\n    smallElement.classList.add(\"fadeIn\");\r\n\r\n    humidityValue.textContent = `${humidity} %`;\r\n    humidityValue.focus();\r\n    humidityValue.classList.add(\"fadeIn\");\r\n\r\n    windSpeedValue.textContent = `${speed} m/s`;\r\n    windSpeedValue.focus();\r\n    windSpeedValue.classList.add(\"fadeIn\");\r\n  };\r\n}\r\n\r\nasync function request(cityName) {\r\n  try {\r\n    const APIKey = \"df8f86d456772d814d5448cb596d7dc9\";\r\n    const url = `https://api.openweathermap.org/data/2.5/weather?q=${cityName}&appid=${APIKey}&units=metric`;\r\n\r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n\r\n    if (data.cod === \"404\") {\r\n      showError(\"Ciudad no encontrada\");\r\n      return;\r\n    }\r\n\r\n    displayWeather(data);\r\n  } catch (error) {\r\n    console.log(error);\r\n    showError(\"Error de conexión\");\r\n  }\r\n}\r\n\r\nfunction search() {\r\n  if (searchInput.value.length === 0) {\r\n    showError(\"Campo vacío no permitido\");\r\n    return;\r\n  }\r\n  let cityName = searchInput.value;\r\n  request(cityName);\r\n}\r\n\r\nsearchButton.addEventListener(\"click\", search);\r\n"]}